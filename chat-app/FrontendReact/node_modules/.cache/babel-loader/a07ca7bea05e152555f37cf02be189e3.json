{"ast":null,"code":"import _regeneratorRuntime from\"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import SocketConnect from\"../../../services/chat.service\";import*as actionTypes from'./actions.types';export function initWebSocketConnection(dispatch){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,socket;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return localStorage.getItem(\"token\");case 2:token=_context.sent;socket=new SocketConnect(token).getSocket();if(socket){dispatch(setSocket(socket));}case 5:case\"end\":return _context.stop();}}},_callee);}));}export function setSocket(socket){return{type:actionTypes.SET_SOCKET,socket:socket};}export function setFocusRoom(roomName){return{type:actionTypes.FOCUS_ROOM,roomName:roomName};}export function setUsers(users){return{type:actionTypes.USERS,users:users};}export function isConnected(isConnected){return{type:actionTypes.IS_CONNECTED,isConnected:isConnected};}export function allMessages(messages){return{type:actionTypes.ALL_MESSAGES,messages:messages};}","map":{"version":3,"sources":["/home/serafym/Общедоступные/ChatApp/chat-app/FrontendReact/src/redux/actions/chatActions/chat.actions.js"],"names":["SocketConnect","actionTypes","initWebSocketConnection","dispatch","localStorage","getItem","token","socket","getSocket","setSocket","type","SET_SOCKET","setFocusRoom","roomName","FOCUS_ROOM","setUsers","users","USERS","isConnected","IS_CONNECTED","allMessages","messages","ALL_MESSAGES"],"mappings":"ieAAA,MAAOA,CAAAA,aAAP,KAA0B,gCAA1B,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,iBAA7B,CAEA,MAAO,SAASC,CAAAA,uBAAT,CAAiCC,QAAjC,CAA2C,CAChD,2EAAO,0KACaC,CAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,CADb,QACDC,KADC,eAEDC,MAFC,CAEQ,GAAIP,CAAAA,aAAJ,CAAkBM,KAAlB,EAAyBE,SAAzB,EAFR,CAIL,GAAID,MAAJ,CAAY,CACVJ,QAAQ,CAACM,SAAS,CAACF,MAAD,CAAV,CAAR,CACD,CANI,sDAAP,GAQD,CAED,MAAO,SAASE,CAAAA,SAAT,CAAmBF,MAAnB,CAA2B,CAChC,MAAO,CACLG,IAAI,CAAET,WAAW,CAACU,UADb,CAELJ,MAAM,CAANA,MAFK,CAAP,CAID,CAED,MAAO,SAASK,CAAAA,YAAT,CAAsBC,QAAtB,CAAgC,CACrC,MAAO,CACLH,IAAI,CAAET,WAAW,CAACa,UADb,CAELD,QAAQ,CAARA,QAFK,CAAP,CAID,CAED,MAAO,SAASE,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CAC9B,MAAO,CACLN,IAAI,CAAET,WAAW,CAACgB,KADb,CAELD,KAAK,CAALA,KAFK,CAAP,CAID,CAED,MAAO,SAASE,CAAAA,WAAT,CAAqBA,WAArB,CAAkC,CACvC,MAAO,CACLR,IAAI,CAAET,WAAW,CAACkB,YADb,CAELD,WAAW,CAAXA,WAFK,CAAP,CAID,CAED,MAAO,SAASE,CAAAA,WAAT,CAAqBC,QAArB,CAA+B,CACpC,MAAO,CACLX,IAAI,CAAET,WAAW,CAACqB,YADb,CAELD,QAAQ,CAARA,QAFK,CAAP,CAID","sourcesContent":["import SocketConnect from \"../../../services/chat.service\";\nimport * as actionTypes from './actions.types'\n\nexport function initWebSocketConnection(dispatch) {\n  return async () => {\n    let token = await localStorage.getItem(\"token\");\n    let socket = new SocketConnect(token).getSocket();\n\n    if (socket) {\n      dispatch(setSocket(socket));\n    }\n  };\n}\n\nexport function setSocket(socket) {\n  return {\n    type: actionTypes.SET_SOCKET,\n    socket,\n  };\n}\n\nexport function setFocusRoom(roomName) {\n  return {\n    type: actionTypes.FOCUS_ROOM,\n    roomName,\n  };\n}\n\nexport function setUsers(users) {\n  return {\n    type: actionTypes.USERS,\n    users,\n  };\n}\n\nexport function isConnected(isConnected) {\n  return {\n    type: actionTypes.IS_CONNECTED,\n    isConnected,\n  };\n}\n\nexport function allMessages(messages) {\n  return {\n    type: actionTypes.ALL_MESSAGES,\n    messages,\n  };\n}\n\n"]},"metadata":{},"sourceType":"module"}