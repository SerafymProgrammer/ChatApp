{"ast":null,"code":"var _jsxFileName = \"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/src/components/authPage/SignIn.jsx\";\nimport React, { useEffect, useCallback } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport LockIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SignInForm from \"./form/SignInForm\";\nimport * as actions from \"../../redux/actions/authActions/auth.actions\";\nimport BoxCenter from \"./UI/box/Center\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst SignIn = props => {\n  const dispatch = useDispatch();\n  const signIn = useCallback(user => dispatch(actions.signIn(user)), [dispatch]);\n  const isFetching = useSelector(state => state.authReducer.isFetching);\n  const isLoggedIn = useSelector(state => state.authReducer.isLoggedIn);\n  useEffect(() => {\n    if (isLoggedIn) props.history.push(\"/chat\");\n  }, [isLoggedIn]);\n\n  const login = ({\n    username,\n    password\n  }) => {\n    signIn({\n      nickName: username,\n      password: password\n    }).catch(ex => {\n      alert(ex.message);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(BoxCenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LockIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(SignInForm, {\n    handleSubmit: data => login(data),\n    isFetching: isFetching,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default SignIn;","map":{"version":3,"sources":["/home/serafym/Общедоступные/ChatApp/chat-app/FrontendReact/src/components/authPage/SignIn.jsx"],"names":["React","useEffect","useCallback","Avatar","LockIcon","Typography","SignInForm","actions","BoxCenter","useDispatch","useSelector","SignIn","props","dispatch","signIn","user","isFetching","state","authReducer","isLoggedIn","history","push","login","username","password","nickName","catch","ex","alert","message","data"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,WAA3B,QAAgD,OAAhD;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAO,KAAKC,OAAZ,MAAyB,8CAAzB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAGA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AACxB,QAAMC,QAAQ,GAAGJ,WAAW,EAA5B;AAEA,QAAMK,MAAM,GAAGZ,WAAW,CACvBa,IAAD,IAAUF,QAAQ,CAACN,OAAO,CAACO,MAAR,CAAeC,IAAf,CAAD,CADM,EAExB,CAACF,QAAD,CAFwB,CAA1B;AAKA,QAAMG,UAAU,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACC,WAAN,CAAkBF,UAA5B,CAA9B;AAEA,QAAMG,UAAU,GAAGT,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACC,WAAN,CAAkBC,UAA5B,CAA9B;AAEAlB,EAAAA,SAAS,CAAC,MAAK;AACd,QAAGkB,UAAH,EACAP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,OAAnB;AACA,GAHQ,EAGN,CAACF,UAAD,CAHM,CAAT;;AAKA,QAAMG,KAAK,GAAG,CAAC;AAACC,IAAAA,QAAD;AAAWC,IAAAA;AAAX,GAAD,KAA0B;AAEpCV,IAAAA,MAAM,CAAC;AACLW,MAAAA,QAAQ,EAAEF,QADL;AAELC,MAAAA,QAAQ,EAAEA;AAFL,KAAD,CAAN,CAICE,KAJD,CAIQC,EAAD,IAAQ;AACbC,MAAAA,KAAK,CAACD,EAAE,CAACE,OAAJ,CAAL;AACD,KAND;AAOH,GATD;;AAWA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,IAAtB;AAA2B,IAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,eAOE,oBAAC,UAAD;AACE,IAAA,YAAY,EAAGC,IAAD,IAAUR,KAAK,CAACQ,IAAD,CAD/B;AAEE,IAAA,UAAU,EAAEd,UAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF;AAgBD,CA5CD;;AA8CA,eAAeL,MAAf","sourcesContent":["import React, { useEffect, useCallback,  } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport LockIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SignInForm from \"./form/SignInForm\";\nimport * as actions from \"../../redux/actions/authActions/auth.actions\";\nimport BoxCenter from \"./UI/box/Center\";\nimport { useDispatch, useSelector } from 'react-redux';\n\n\nconst SignIn = (props) => {\n  const dispatch = useDispatch();\n\n  const signIn = useCallback(\n    (user) => dispatch(actions.signIn(user)),\n    [dispatch]\n  );\n\n  const isFetching = useSelector(state => state.authReducer.isFetching);\n\n  const isLoggedIn = useSelector(state => state.authReducer.isLoggedIn);\n\n  useEffect(()=> {\n   if(isLoggedIn)\n   props.history.push(\"/chat\");\n  }, [isLoggedIn])\n\n  const login = ({username, password}) => {\n  \n      signIn({\n        nickName: username,\n        password: password,\n      })\n      .catch((ex) => {\n        alert(ex.message);\n      });\n  }\n\n  return (\n    <BoxCenter>\n      <Avatar>\n        <LockIcon />\n      </Avatar>\n      <Typography component=\"h1\" variant=\"h5\">\n        Sign in\n      </Typography>\n      <SignInForm\n        handleSubmit={(data) => login(data)}\n        isFetching={isFetching}\n      />\n    </BoxCenter>\n  );\n\n\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}