{"ast":null,"code":"import _defineProperty from\"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/serafym/\\u041E\\u0431\\u0449\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435/ChatApp/chat-app/FrontendReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{ValidatorForm,TextValidator}from\"react-material-ui-form-validator\";import IconButton from\"@material-ui/core/IconButton\";import SendIcon from\"@material-ui/icons/Send\";var InputMessageForm=/*#__PURE__*/function(_Component){_inherits(InputMessageForm,_Component);var _super=_createSuper(InputMessageForm);function InputMessageForm(props){var _this;_classCallCheck(this,InputMessageForm);_this=_super.call(this,props);_this.handleChange=function(event){var value=event.target.value;var field=event.target.name;_this.setState(_defineProperty({},field,value));};_this.handleSubmit=function(){var newMsg=_this.state.message;_this.reset();_this.props.handleSubmit(newMsg);};_this.state={message:\"\",isMobileWindow:false};return _this;}_createClass(InputMessageForm,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window.matchMedia(\"(max-width: 400px)\").addListener(function(e){_this2.setState({isMobileWindow:e.matches});});ValidatorForm.addValidationRule(\"maxSymbols\",function(value){if(value.length>200){return false;}return true;});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){ValidatorForm.removeValidationRule(\"maxSymbols\");}},{key:\"reset\",value:function reset(){this.setState(function(state){return{message:\"\"};});}},{key:\"render\",value:function render(){var _this$state=this.state,message=_this$state.message,isMobileWindow=_this$state.isMobileWindow;return/*#__PURE__*/React.createElement(ValidatorForm,{ref:\"form\",onSubmit:this.handleSubmit,style:{display:\"flex\"}},/*#__PURE__*/React.createElement(TextValidator,{fullWidth:true,label:\"Message\",onChange:this.handleChange,name:\"message\",value:message,validators:[\"required\",\"maxSymbols\"],errorMessages:[\"this field is required\",\"maximum 200 symbols\"],margin:\"normal\",style:isMobileWindow?{width:\"100%\"}:{width:\"50%\"}}),/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"send\",type:\"submit\"},/*#__PURE__*/React.createElement(SendIcon,null)));}}]);return InputMessageForm;}(Component);export default InputMessageForm;","map":{"version":3,"sources":["/home/serafym/Общедоступные/ChatApp/chat-app/FrontendReact/src/components/chatPage/chat-components/inputMessage.jsx"],"names":["React","Component","ValidatorForm","TextValidator","IconButton","SendIcon","InputMessageForm","props","handleChange","event","value","target","field","name","setState","handleSubmit","newMsg","state","message","reset","isMobileWindow","window","matchMedia","addListener","e","matches","addValidationRule","length","removeValidationRule","display","width"],"mappings":"4qCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAT,CAAwBC,aAAxB,KAA6C,kCAA7C,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,C,GAEMC,CAAAA,gB,oHACJ,0BAAYC,KAAZ,CAAmB,kDACjB,uBAAMA,KAAN,EADiB,MA8BnBC,YA9BmB,CA8BJ,SAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B,CACA,GAAME,CAAAA,KAAK,CAAGH,KAAK,CAACE,MAAN,CAAaE,IAA3B,CACA,MAAKC,QAAL,oBAAiBF,KAAjB,CAAyBF,KAAzB,GACD,CAlCkB,OAoCnBK,YApCmB,CAoCJ,UAAM,CACnB,GAAMC,CAAAA,MAAM,CAAG,MAAKC,KAAL,CAAWC,OAA1B,CACA,MAAKC,KAAL,GACA,MAAKZ,KAAL,CAAWQ,YAAX,CAAwBC,MAAxB,EACD,CAxCkB,CAEjB,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,EADE,CAEXE,cAAc,CAAE,KAFL,CAAb,CAFiB,aAMlB,C,0FAEmB,iBAClBC,MAAM,CAACC,UAAP,CAAkB,oBAAlB,EAAwCC,WAAxC,CAAoD,SAACC,CAAD,CAAO,CACzD,MAAI,CAACV,QAAL,CAAc,CAAEM,cAAc,CAAEI,CAAC,CAACC,OAApB,CAAd,EACD,CAFD,EAGAvB,aAAa,CAACwB,iBAAd,CAAgC,YAAhC,CAA8C,SAAChB,KAAD,CAAW,CACvD,GAAIA,KAAK,CAACiB,MAAN,CAAe,GAAnB,CAAwB,CACtB,MAAO,MAAP,CACD,CACD,MAAO,KAAP,CACD,CALD,EAMD,C,mEAEsB,CACrBzB,aAAa,CAAC0B,oBAAd,CAAmC,YAAnC,EACD,C,qCAEO,CACN,KAAKd,QAAL,CAAc,SAACG,KAAD,QAAY,CACxBC,OAAO,CAAE,EADe,CAAZ,EAAd,EAGD,C,uCAcQ,iBAC6B,KAAKD,KADlC,CACCC,OADD,aACCA,OADD,CACUE,cADV,aACUA,cADV,CAGP,mBACE,oBAAC,aAAD,EACE,GAAG,CAAC,MADN,CAEE,QAAQ,CAAE,KAAKL,YAFjB,CAGE,KAAK,CAAE,CACLc,OAAO,CAAE,MADJ,CAHT,eAOE,oBAAC,aAAD,EACE,SAAS,KADX,CAEE,KAAK,CAAC,SAFR,CAGE,QAAQ,CAAE,KAAKrB,YAHjB,CAIE,IAAI,CAAC,SAJP,CAKE,KAAK,CAAEU,OALT,CAME,UAAU,CAAE,CAAC,UAAD,CAAa,YAAb,CANd,CAOE,aAAa,CAAE,CAAC,wBAAD,CAA2B,qBAA3B,CAPjB,CAQE,MAAM,CAAC,QART,CASE,KAAK,CACHE,cAAc,CACV,CACEU,KAAK,CAAE,MADT,CADU,CAIV,CACEA,KAAK,CAAE,KADT,CAdR,EAPF,cA0BE,oBAAC,UAAD,EAAY,aAAW,MAAvB,CAA8B,IAAI,CAAC,QAAnC,eACE,oBAAC,QAAD,MADF,CA1BF,CADF,CAgCD,C,8BA9E4B7B,S,EAiF/B,cAAeK,CAAAA,gBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nclass InputMessageForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\",\n      isMobileWindow: false,\n    };\n  }\n\n  componentDidMount() {\n    window.matchMedia(\"(max-width: 400px)\").addListener((e) => {\n      this.setState({ isMobileWindow: e.matches });\n    });\n    ValidatorForm.addValidationRule(\"maxSymbols\", (value) => {\n      if (value.length > 200) {\n        return false;\n      }\n      return true;\n    });\n  }\n\n  componentWillUnmount() {\n    ValidatorForm.removeValidationRule(\"maxSymbols\");\n  }\n\n  reset() {\n    this.setState((state) => ({\n      message: \"\",\n    }));\n  }\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const field = event.target.name;\n    this.setState({ [field]: value });\n  };\n\n  handleSubmit = () => {\n    const newMsg = this.state.message;\n    this.reset();\n    this.props.handleSubmit(newMsg);\n  };\n\n  render() {\n    const { message, isMobileWindow } = this.state;\n\n    return (\n      <ValidatorForm\n        ref=\"form\"\n        onSubmit={this.handleSubmit}\n        style={{\n          display: \"flex\",\n        }}\n      >\n        <TextValidator\n          fullWidth\n          label=\"Message\"\n          onChange={this.handleChange}\n          name=\"message\"\n          value={message}\n          validators={[\"required\", \"maxSymbols\"]}\n          errorMessages={[\"this field is required\", \"maximum 200 symbols\"]}\n          margin=\"normal\"\n          style={\n            isMobileWindow\n              ? {\n                  width: \"100%\",\n                }\n              : {\n                  width: \"50%\",\n                }\n          }\n        />\n        <IconButton aria-label=\"send\" type=\"submit\">\n          <SendIcon />\n        </IconButton>\n      </ValidatorForm>\n    );\n  }\n}\n\nexport default InputMessageForm;\n"]},"metadata":{},"sourceType":"module"}