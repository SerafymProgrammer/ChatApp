{"ast":null,"code":"import React,{useEffect,useCallback}from\"react\";import Avatar from\"@material-ui/core/Avatar\";import LockIcon from\"@material-ui/icons/LockOutlined\";import Typography from\"@material-ui/core/Typography\";import SignInForm from\"./form/SignInForm\";import*as actions from\"../../redux/actions/authActions/auth.actions\";import BoxCenter from\"./UI/box/Center\";import{useDispatch,useSelector}from'react-redux';var SignIn=function SignIn(props){var dispatch=useDispatch();var signIn=useCallback(function(user){return dispatch(actions.signIn(user));},[dispatch]);var isFetching=useSelector(function(state){return state.authReducer.isFetching;});var isLoggedIn=useSelector(function(state){return state.authReducer.isLoggedIn;});useEffect(function(){if(isLoggedIn)props.history.push(\"/chat\");},[isLoggedIn]);var login=function login(_ref){var username=_ref.username,password=_ref.password;signIn({nickName:username,password:password}).catch(function(ex){alert(ex.message);});};return/*#__PURE__*/React.createElement(BoxCenter,null,/*#__PURE__*/React.createElement(Avatar,null,/*#__PURE__*/React.createElement(LockIcon,null)),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign in\"),/*#__PURE__*/React.createElement(SignInForm,{handleSubmit:function handleSubmit(data){return login(data);},isFetching:isFetching}));};export default SignIn;","map":{"version":3,"sources":["/home/serafym/Общедоступные/ChatApp/chat-app/FrontendReact/src/components/authPage/SignIn.jsx"],"names":["React","useEffect","useCallback","Avatar","LockIcon","Typography","SignInForm","actions","BoxCenter","useDispatch","useSelector","SignIn","props","dispatch","signIn","user","isFetching","state","authReducer","isLoggedIn","history","push","login","username","password","nickName","catch","ex","alert","message","data"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,WAA3B,KAAgD,OAAhD,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iCAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,mBAAvB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,8CAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAEA,GAAMK,CAAAA,MAAM,CAAGZ,WAAW,CACxB,SAACa,IAAD,QAAUF,CAAAA,QAAQ,CAACN,OAAO,CAACO,MAAR,CAAeC,IAAf,CAAD,CAAlB,EADwB,CAExB,CAACF,QAAD,CAFwB,CAA1B,CAKA,GAAMG,CAAAA,UAAU,CAAGN,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,WAAN,CAAkBF,UAAtB,EAAN,CAA9B,CAEA,GAAMG,CAAAA,UAAU,CAAGT,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,WAAN,CAAkBC,UAAtB,EAAN,CAA9B,CAEAlB,SAAS,CAAC,UAAK,CACd,GAAGkB,UAAH,CACAP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,OAAnB,EACA,CAHQ,CAGN,CAACF,UAAD,CAHM,CAAT,CAKA,GAAMG,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAA0B,IAAxBC,CAAAA,QAAwB,MAAxBA,QAAwB,CAAdC,QAAc,MAAdA,QAAc,CAEpCV,MAAM,CAAC,CACLW,QAAQ,CAAEF,QADL,CAELC,QAAQ,CAAEA,QAFL,CAAD,CAAN,CAICE,KAJD,CAIO,SAACC,EAAD,CAAQ,CACbC,KAAK,CAACD,EAAE,CAACE,OAAJ,CAAL,CACD,CAND,EAOH,CATD,CAWA,mBACE,oBAAC,SAAD,mBACE,oBAAC,MAAD,mBACE,oBAAC,QAAD,MADF,CADF,cAIE,oBAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,YAJF,cAOE,oBAAC,UAAD,EACE,YAAY,CAAE,sBAACC,IAAD,QAAUR,CAAAA,KAAK,CAACQ,IAAD,CAAf,EADhB,CAEE,UAAU,CAAEd,UAFd,EAPF,CADF,CAgBD,CA5CD,CA8CA,cAAeL,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useCallback,  } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport LockIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SignInForm from \"./form/SignInForm\";\nimport * as actions from \"../../redux/actions/authActions/auth.actions\";\nimport BoxCenter from \"./UI/box/Center\";\nimport { useDispatch, useSelector } from 'react-redux';\n\n\nconst SignIn = (props) => {\n  const dispatch = useDispatch();\n\n  const signIn = useCallback(\n    (user) => dispatch(actions.signIn(user)),\n    [dispatch]\n  );\n\n  const isFetching = useSelector(state => state.authReducer.isFetching);\n\n  const isLoggedIn = useSelector(state => state.authReducer.isLoggedIn);\n\n  useEffect(()=> {\n   if(isLoggedIn)\n   props.history.push(\"/chat\");\n  }, [isLoggedIn])\n\n  const login = ({username, password}) => {\n  \n      signIn({\n        nickName: username,\n        password: password,\n      })\n      .catch((ex) => {\n        alert(ex.message);\n      });\n  }\n\n  return (\n    <BoxCenter>\n      <Avatar>\n        <LockIcon />\n      </Avatar>\n      <Typography component=\"h1\" variant=\"h5\">\n        Sign in\n      </Typography>\n      <SignInForm\n        handleSubmit={(data) => login(data)}\n        isFetching={isFetching}\n      />\n    </BoxCenter>\n  );\n\n\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}