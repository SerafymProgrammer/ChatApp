{"map":{"version":3,"sources":["static/js/main.99869e25.chunk.js"],"names":["this","push","148","module","exports","__webpack_require__","153","216","221","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","es","redux","redux_thunk_es","objectSpread2","initialState","onlineUsers","allUsers","isConnected","socket","messages","isMuted","authReducer_initialState","isLoggedIn","reducers","Object","chatReducer","state","arguments","length","undefined","action","type","authReducer","configure_store","react_router","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","react_router_dom","Avatar","LockOutlined","LockOutlined_default","Typography","defineProperty","Button","lib","CircularProgress","form_SignInForm","_Component","SignInForm","_super","props","_this","call","handleChange","event","value","target","field","name","setState","handleSubmit","data","assign","id","reset","username","password","key","addValidationRule","test","removeValidationRule","_this$state","isFetching","a","createElement","ref","onSubmit","fullWidth","label","onChange","validators","errorMessages","margin","variant","color","disabled","size","auth_service_AuthService","AuthService","loginUser","_ref","mark","_callee","user","wrap","_context","prev","next","abrupt","fetch","method","headers","Accept","Content-Type","body","JSON","stringify","stop","_x","apply","isSignedInUser","CssBaseline","Paper","withStyles","Center","withStyles_default","theme","main","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","concat","avatar","backgroundColor","palette","secondary","text","textAlign","classes","children","className","role","aria-label","href","randomColor","randomColor_default","colorsHues","SignIn_SignIn","SignIn","didInvalidate","_componentDidMount","localStorage","getItem","sent","history","min","max","signIn","nickName","nickNameColor","hue","Math","floor","random","catch","ex","console","log","prevProps","_this2","component","login","to","auth_SignIn","dispatch","_callee2","_context2","then","_ref2","response","json","_x2","setItem","userToken","error","auth_actions_signIn","toConsumableArray","socket_io_client_lib","socket_io_client_lib_default","chat_service_SocketConnect","SocketConnect","token","exists","instance","forceNew","moment","moment_default","jwt_decode_lib","jwt_decode_lib_default","IconButton","Send","Send_default","inputMessage","InputMessageForm","decodedUser","newMsg","textMessage","message","authorMessage","style","Container","styled","makeStyles","Grid","useStyles","root","justifyContent","myMsg","maxWidth","borderRadius","msgText","maxHeight","Message","timeMessage","colorNickName","item","xs","container","direction","wordWrap","ChatContainer","background","overflowY","height","messageContainer","map","calendar","List","ListItem","ListItemText","ListSubheader","ButtonGroup","usersContainer_useStyles","_root","position","borderColor","borderWidth","listSection","ul","opacity","UsersList","isAdmin","users","userName","setMuteStatus","setBan","showUsersContainer","usersListMobile","usersCategories","Online","filter","onlineStatus","Offline","arr","subheader","status","index","primary","onClick","handleMute","handleBan","isBaned","setSocket","_styled","AppBar","Toolbar","Menu","Menu_default","chatHeader_useStyles","flexGrow","menuButton","title","Header","edge","showHideUsersList","logout","chat_ChatContainer","chat_ChatPage","ChatPage","handleNewUserMessage","newMessage","currentUser","handler","e","matches","window","matchMedia","addListener","initConnection","on","res","setOnlineUsers","IsMute","setIsMuteStatus","reason","removeItem","_setMuteStatus","emit","_setBan","_callee3","_context3","_sendMsg","_callee4","_context4","_x3","_logout","_callee5","_context5","disconnect","_this3","_this$props","sendMsg","chat","getSocket","initWebSocketConnection","allOnlineUsers","chat_actions_isConnected","setIsLoggedIn","home","Home","keyCode","sendMessage","bind","sendMessageIfEnter","condRender","router","exact","path","esm_history","services_history","mainStore","src_App","store","Boolean","location","hostname","match","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this[\"webpackJsonpchat-app\"]=this[\"webpackJsonpchat-app\"]||[]).push([[0],{148:function(e,t,n){e.exports=n(221)},153:function(e,t,n){},216:function(e,t){},221:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),s=n(9),i=n.n(s),o=(n(153),n(48)),c=n(41),u=n(130),l=n(19),m={onlineUsers:[],allUsers:[],isConnected:!1,socket:null,messages:[],isMuted:!1};var h={isLoggedIn:!1,allUsers:[],isConnected:!1};var p=Object(c.c)({chatReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ONLINE_USERS\":return Object(l.a)(Object(l.a)({},e),{},{onlineUsers:t.onlineUsers});case\"ALL_USERS\":return Object(l.a)(Object(l.a)({},e),{},{allUsers:t.allUsers});case\"IS_CONNECTED\":return Object(l.a)(Object(l.a)({},e),{},{isConnected:t.isConnected});case\"SET_SOCKET\":return Object(l.a)(Object(l.a)({},e),{},{socket:t.socket});case\"ALL_MESSAGES\":case\"IS_MUTED\":return Object(l.a)(Object(l.a)({},e),{},{messages:t.messages});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"IS_LOGGED_IN\":return Object(l.a)(Object(l.a)({},e),{},{isLoggedIn:t.isLoggedIn});default:return e}}}),d=Object(c.d)(p,Object(c.a)(u.a)),f=n(12),g=n(8),b=n.n(g),v=n(18),k=n(20),y=n(25),O=n(30),x=n(29),E=n(46),S=n(270),j=n(137),w=n.n(j),M=n(75),N=n(14),C=n(227),I=n(21),U=n(257),T=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(N.a)({},n,t))},a.handleSubmit=function(){var e=Object.assign({id:null},a.state);a.reset(),a.props.handleSubmit(e)},a.state={username:\"\",password:\"\"},a}return Object(y.a)(n,[{key:\"componentDidMount\",value:function(){I.ValidatorForm.addValidationRule(\"moreThanThreeChar\",(function(e){return!(e.length<3)})),I.ValidatorForm.addValidationRule(\"notAllowedSpecialSymbols\",(function(e){return!/[^A-z\\u0410-\\u044f\\u0401\\u04510-9)]/.test(e)}))}},{key:\"componentWillUnmount\",value:function(){I.ValidatorForm.removeValidationRule(\"moreThanThreeChar\"),I.ValidatorForm.removeValidationRule(\"notAllowedSpecialSymbols\")}},{key:\"reset\",value:function(){this.setState((function(e){return{username:\"\",password:\"\"}}))}},{key:\"render\",value:function(){var e=this.state,t=e.username,n=e.password,a=this.props.isFetching;return r.a.createElement(I.ValidatorForm,{ref:\"form\",onSubmit:this.handleSubmit},r.a.createElement(I.TextValidator,{fullWidth:!0,label:\"Username\",onChange:this.handleChange,name:\"username\",value:t,validators:[\"required\",\"moreThanThreeChar\",\"notAllowedSpecialSymbols\"],errorMessages:[\"this field is required\",\"3 characters minimum\",\"Not allowed special symbols\"],margin:\"normal\"}),r.a.createElement(I.TextValidator,{fullWidth:!0,label:\"Password\",type:\"password\",onChange:this.handleChange,name:\"password\",value:n,validators:[\"required\"],errorMessages:[\"this field is required\"],margin:\"normal\"}),r.a.createElement(C.a,{variant:\"contained\",fullWidth:!0,color:\"primary\",type:\"submit\",disabled:a,margin:\"normal\"},a&&r.a.createElement(U.a,{size:20}),\" Save\"))}}]),n}(a.Component),L=function e(){Object(k.a)(this,e)};L.loginUser=function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",fetch(\"http://localhost:3000/auth/login\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(t)}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var R=function(e){return{type:\"IS_LOGGED_IN\",isLoggedIn:e}};var V=n(258),A=n(226),D=n(135),_=n.n(D)()((function(e){return{main:Object(N.a)({width:\"auto\",display:\"block\",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:\"auto\",marginRight:\"auto\"}),paper:{marginTop:8*e.spacing.unit,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"\".concat(2*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px\")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},text:{textAlign:\"center\"}}}))((function(e){var t=e.classes,n=e.children;return r.a.createElement(\"div\",null,r.a.createElement(\"main\",{className:t.main},r.a.createElement(V.a,null),r.a.createElement(A.a,{className:t.paper},n)),r.a.createElement(\"p\",{className:t.text},\"Build with \",r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"Love\"},\"\\u2764\\ufe0f\"),\" by the \",r.a.createElement(\"a\",{href:\"https://material-ui.com\"},\"Material-UI\")))})),F=n(136),W=n.n(F);var H=[\"red\",\"orange\",\"yellow\",\"purple\",\"green\"],B=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).state={isFetching:!1,didInvalidate:!1},a}return Object(y.a)(n,[{key:\"componentDidMount\",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem(\"userToken\");case 2:if(e.sent){e.next=6;break}return this.props.history.push(\"/chat\"),e.abrupt(\"return\");case 6:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"login\",value:function(e){e.id;var t,n,a=e.username,r=e.password;this.setState((function(e){return{isFetching:!0,didInvalidate:!1}})),this.props.signIn({id:null,nickName:a,password:r,nickNameColor:W()({hue:H[(t=0,n=5,t+Math.floor(Math.random()*(n-t+1)))]})}).catch((function(e){console.log(e)}))}},{key:\"componentDidUpdate\",value:function(e){e.isLoggedIn!=this.props.isLoggedIn&&this.props.isLoggedIn&&this.props.history.push(\"/chat\")}},{key:\"render\",value:function(){var e=this,t=this.state.isFetching;return r.a.createElement(_,null,r.a.createElement(S.a,null,r.a.createElement(w.a,null)),r.a.createElement(M.a,{component:\"h1\",variant:\"h5\"},\"Sign in\"),r.a.createElement(T,{handleSubmit:function(t){return e.login(t)},isFetching:t}),r.a.createElement(\"p\",null,\"Need an account? \",r.a.createElement(E.a,{to:\"/signup\"},\"Sign up\")))}}]),n}(a.Component);var G=Object(o.b)((function(e){return{isLoggedIn:e.authReducer.isLoggedIn}}),(function(e){return{signIn:function(t){return e(function(e){return function(){var t=Object(v.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.loginUser(e).then(function(){var e=Object(v.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){localStorage.setItem(\"userToken\",e.userToken),n(R(!0))})).catch((function(e){return console.log(e)}));case 2:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(B),q=n(96),J=n(66),z=n.n(J),K=function(){function e(t){if(Object(k.a)(this,e),e.exists)return e.instance;e.instance=this,e.exists=!0,this.socket=z()(\"http://localhost:3000?token=\".concat(t),{forceNew:!0})}return Object(y.a)(e,[{key:\"getSocket\",value:function(){return this.socket}}]),e}(),P=n(67),Y=n.n(P),$=n(57),Q=n.n($),X=n(259),Z=n(138),ee=n.n(Z),te=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(N.a)({},n,t))},a.handleSubmit=function(){var e=localStorage.getItem(\"userToken\"),t=Q()(e),n={id:null,textMessage:a.state.message,authorMessage:t.nickName};a.reset(),a.props.handleSubmit(n)},a.state={message:\"\"},a}return Object(y.a)(n,[{key:\"componentDidMount\",value:function(){I.ValidatorForm.addValidationRule(\"maxSymbols\",(function(e){return!(e.length>200)}))}},{key:\"componentWillUnmount\",value:function(){I.ValidatorForm.removeValidationRule(\"maxSymbols\")}},{key:\"reset\",value:function(){this.setState((function(e){return{message:\"\"}}))}},{key:\"render\",value:function(){var e=this.state.message;return r.a.createElement(I.ValidatorForm,{ref:\"form\",onSubmit:this.handleSubmit,style:{display:\"flex\"}},r.a.createElement(I.TextValidator,{fullWidth:!0,label:\"Message\",onChange:this.handleChange,name:\"message\",value:e,validators:[\"required\",\"maxSymbols\"],errorMessages:[\"this field is required\",\"maximum 200 symbols\"],margin:\"normal\",style:{width:\"50%\"}}),r.a.createElement(X.a,{\"aria-label\":\"send\",type:\"submit\"},r.a.createElement(ee.a,null)))}}]),n}(a.Component),ne=n(263),ae=n(262),re=n(260),se=n(261),ie=Object(re.a)((function(e){return{root:{display:\"flex\",marginTop:5,justifyContent:\"flex-start\"},myMsg:{display:\"flex\",marginTop:5,justifyContent:\"flex-end\"},paper:{padding:e.spacing(1),maxWidth:200,borderRadius:20},msgText:{margin:\"auto\",display:\"block\",maxHeight:\"100%\"}}}));function oe(e){var t=e.timeMessage,n=e.authorMessage,a=e.textMessage,s=e.username,i=e.colorNickName,o=ie(s===n?\"flex-end\":\"flex-start\");return r.a.createElement(\"div\",{className:s===n?o.myMsg:o.root},r.a.createElement(A.a,{className:o.paper},r.a.createElement(se.a,{item:!0,xs:!0,container:!0,direction:\"column\"},r.a.createElement(se.a,{item:!0,xs:!0},r.a.createElement(M.a,{variant:\"subtitle2\",style:{color:i}},n)),r.a.createElement(se.a,{item:!0,xs:!0},r.a.createElement(M.a,{variant:\"body1\",style:{wordWrap:\"break-word\"}},a)),r.a.createElement(se.a,{item:!0,xs:!0},r.a.createElement(M.a,{variant:\"body2\",color:\"textSecondary\"},t)))))}var ce=Object(ae.a)(ne.a)({background:\"inherit\",display:\"flex\",flexDirection:\"column\",overflowY:\"scroll\",height:\"inherit\",maxHeight:\"inherit\"}),ue=function(e){var t=e.messages,n=e.username,a=e.colorNickName;return r.a.createElement(ce,null,t.map((function(e){return r.a.createElement(oe,{timeMessage:Y()(e.timeMessage).calendar(),authorMessage:e.authorMessage,textMessage:e.textMessage,username:n,colorNickName:a})})))},le=n(256),me=n(265),he=n(266),pe=n(264),de=n(267),fe=Object(re.a)((function(e){var t;return{root:(t={width:\"100%\",maxWidth:360,backgroundColor:e.palette.background.paper,position:\"relative\",height:\"avalaible\",maxHeight:\"inherit\",borderColor:\"#000\",borderWidth:2,overflowY:\"scroll\"},Object(N.a)(t,\"backgroundColor\",\"#abd28c6e\"),Object(N.a)(t,\"opacity\",.5),Object(N.a)(t,\"top\",0),Object(N.a)(t,\"left\",0),t),listSection:{},ul:{backgroundColor:\"#abd28c6e\",opacity:1,padding:0}}}));function ge(e){var t=e.isAdmin,n=e.users,a=e.userName,s=e.setMuteStatus,i=e.setBan,o=e.showUsersContainer,c=e.usersListMobile,u=fe(),l={Online:n.filter((function(e){return e.onlineStatus})),Offline:n.filter((function(e){return!e.onlineStatus}))},m=t?[\"Online\",\"Offline\"]:[\"Online\"];return r.a.createElement(le.a,{className:u.root,subheader:r.a.createElement(\"li\",null),style:o?Object.assign({display:\"block\"},c?{position:\"absolute\"}:{position:\"initial\"}):{display:\"none\"}},m.map((function(e,n){return r.a.createElement(\"li\",{key:\"section-\".concat(n),className:u.listSection},r.a.createElement(\"ul\",{className:u.ul},r.a.createElement(pe.a,null,\"\".concat(e)),l[e].map((function(e){return r.a.createElement(me.a,{key:\"\".concat(e.nickName)},r.a.createElement(he.a,{primary:\"\".concat(e.nickName)}),t&&e.nickName!==a?r.a.createElement(de.a,{size:\"small\",\"aria-label\":\"small outlined button group\"},r.a.createElement(C.a,{onClick:function(){return function(e){s(e)}(e)}},\" \",e.isMuted?\"unmute\":\"mute\"),r.a.createElement(C.a,{onClick:function(){return function(e){i(e)}(e)}},e.isBaned?\"unban\":\"ban\")):null)}))))})))}function be(e){return{type:\"SET_SOCKET\",socket:e}}var ve,ke=n(268),ye=n(269),Oe=n(139),xe=n.n(Oe),Ee=Object(re.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function Se(e){var t=Ee();return r.a.createElement(\"div\",{className:t.root},r.a.createElement(ke.a,{position:\"static\"},r.a.createElement(ye.a,null,r.a.createElement(X.a,{edge:\"start\",className:t.menuButton,color:\"inherit\",\"aria-label\":\"menu\"},r.a.createElement(xe.a,{onClick:e.showHideUsersList})),r.a.createElement(M.a,{variant:\"h6\",className:t.title,style:{color:e.colorNickName}},e.username),r.a.createElement(C.a,{onClick:e.logout,color:\"inherit\"},\"Logout\"))))}var je=Object(ae.a)(ne.a)((ve={background:\"#6d81af\",display:\"flex\",flexDirection:\"row-reverse\",margin:0,padding:0,height:815,position:\"relative\",maxHeight:1e3},Object(N.a)(ve,\"@media (max-height:900px)\",{height:715,maxHeight:900}),Object(N.a)(ve,\"@media (max-height:800px)\",{height:615,maxHeight:800}),Object(N.a)(ve,\"@media (max-height:700px)\",{height:515,maxHeight:700}),Object(N.a)(ve,\"@media (max-height:600px)\",{height:415,maxHeight:600}),Object(N.a)(ve,\"@media (max-height:500px)\",{height:315,maxHeight:500}),Object(N.a)(ve,\"@media (max-height:400px)\",{height:250,maxHeight:400}),ve)),we=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).colorNickName=\"white\",a.handleNewUserMessage=function(e){console.log(\"New message incomig! \".concat(e))},a.state={messages:[],isAdmin:!1,currentUser:\"\",isMuted:!1,showUsersContainer:!0,usersListMobile:!1},a}return Object(y.a)(n,[{key:\"UNSAFE_componentWillMount\",value:function(){}},{key:\"componentDidMount\",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,n,a,r=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem(\"userToken\");case 2:if(t=e.sent){e.next=6;break}return this.props.history.push(\"/login\"),e.abrupt(\"return\");case 6:return n=function(e){r.setState({usersListMobile:e.matches}),e.matches&&r.setState({showUsersContainer:!1})},window.matchMedia(\"(max-width: 400px)\").addListener(n),e.next=10,this.props.initConnection();case 10:this.props.socket.on(\"onlineUsers\",(function(e){return r.props.setOnlineUsers(e)})),this.props.socket.on(\"users\",(function(e){r.props.setOnlineUsers(e)})),this.props.socket.on(\"previousMessages\",(function(e){return r.setState({messages:e})})),this.props.socket.on(\"initialMuteStatus\",(function(e){return r.props.setIsMuteStatus(e)})),this.props.socket.on(\"mute\",(function(e){console.log(e),r.props.setIsMuteStatus(e),r.setState({isMuted:e})})),this.props.socket.on(\"chat\",(function(e){return r.setState({messages:[].concat(Object(q.a)(r.state.messages),[e])})})),this.props.socket.on(\"connection\",(function(e){r.props.socket.on(\"disconnect\",(function(e){localStorage.removeItem(\"userToken\"),r.props.history.push(\"/login\")}))})),this.props.socket.on(\"disconnect\",(function(e){localStorage.removeItem(\"userToken\"),r.props.history.push(\"/login\")})),this.props.socket.on(\"disconnected\",(function(e){})),a=Q()(t),this.colorNickName=a.nickNameColor,this.setState({isAdmin:a.isAdmin,currentUser:a.nickName}),this.props.isConnected(!0);case 23:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"setMuteStatus\",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.socket.emit(\"mute\",t.id);case 1:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"setBan\",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.socket.emit(\"ban\",t.id);case 1:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"sendMsg\",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({messages:[].concat(Object(q.a)(this.state.messages),[t])}),this.props.socket.emit(\"chat\",JSON.stringify(t));case 2:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"logout\",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem(\"userToken\");case 2:this.props.socket.disconnect(!0),this.props.history.push(\"/login\");case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this,t=this.props,n=(t.isConnected,t.onlineUsers),a=this.state,s=a.isAdmin,i=a.currentUser,o=a.showUsersContainer,c=a.usersListMobile;return r.a.createElement(ne.a,{style:{display:\"flex\",flexDirection:\"column\"}},r.a.createElement(Se,{username:i,colorNickName:this.colorNickName,showHideUsersList:function(){return e.setState({showUsersContainer:!e.state.showUsersContainer})},logout:function(){return e.logout()}}),r.a.createElement(je,null,r.a.createElement(ge,{users:n,isAdmin:s,userName:i,setMuteStatus:function(t){return e.setMuteStatus(t)},setBan:function(t){return e.setBan(t)},showUsersContainer:o,usersListMobile:c}),r.a.createElement(ue,{messages:this.state.messages,username:this.state.currentUser,colorNickName:this.colorNickName})),this.state.isMuted?null:r.a.createElement(te,{handleSubmit:function(t){return e.sendMsg(t)}}))}}]),n}(a.Component);var Me=Object(o.b)((function(e){return{isConnected:e.chatReducer.isConnected,onlineUsers:e.chatReducer.onlineUsers,messages:e.chatReducer.messages,socket:e.chatReducer.socket,isMuted:e.chatReducer.isMuted}}),(function(e){return{initConnection:function(){return e(function(e){return Object(v.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem(\"userToken\");case 2:n=t.sent,(a=new K(n).getSocket())&&e(be(a));case 5:case\"end\":return t.stop()}}),t)})))}(e))},setOnlineUsers:function(t){return e(function(e){return{type:\"ONLINE_USERS\",onlineUsers:e}}(t))},isConnected:function(t){return e(function(e){return{type:\"IS_CONNECTED\",isConnected:e}}(t))},setIsMuteStatus:function(t){return e({type:\"IS_MUTED\",isMuted:t})},setIsLoggedIn:function(t){return e(R(t))}}}))(we),Ne=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).state={userToken:null},a}return Object(y.a)(n,[{key:\"componentDidMount\",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem(\"userToken\");case 2:(t=e.sent)?this.setState({userToken:t}):this.setState({userToken:\"none\"});case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"condRender\",value:function(){return this.state.userToken,r.a.createElement(f.a,{to:\"/login\"})}},{key:\"sendMessage\",value:function(){}},{key:\"sendMessageIfEnter\",value:function(e){13===e.keyCode&&this.sendMessage()}},{key:\"render\",value:function(){this.sendMessage.bind(this),this.sendMessageIfEnter.bind(this);return this.state.userToken?this.condRender():null}}]),n}(a.Component),Ce=function(){return r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:\"/\",component:Ne}),r.a.createElement(f.b,{path:\"/login\",component:G}),r.a.createElement(f.b,{path:\"/chat\",component:Me}))},Ie=n(22),Ue=Object(Ie.a)(),Te=d,Le=function(){return r.a.createElement(o.a,{store:Te},r.a.createElement(f.c,{history:Ue},r.a.createElement(Ce,null)))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Le,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[148,1,2]]]);","extractedComments":[]}